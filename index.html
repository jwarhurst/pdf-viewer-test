<script type="module">
  import { getDocument, GlobalWorkerOptions } from 'https://unpkg.com/pdfjs-dist@4.10.38/build/pdf.mjs';
  import { PDFViewer, PDFLinkService, EventBus } from 'https://unpkg.com/pdfjs-dist@4.10.38/web/pdf_viewer.mjs';

  GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@4.10.38/build/pdf.worker.mjs';

  // Create the EventBus instance.
  const eventBus = new EventBus();

  // Create the PDFLinkService.
  const pdfLinkService = new PDFLinkService({ eventBus });

  // Get the container elements.
  const container = document.getElementById('viewerContainer');
  const viewer = document.getElementById('viewer');

  // Create the PDFViewer, passing the eventBus.
  const pdfViewer = new PDFViewer({
    container,
    viewer,
    eventBus,
    removePageBorders: true,
  });

  pdfViewer.setLinkService(pdfLinkService);
  pdfLinkService.setViewer(pdfViewer);

  // Load the PDF.
  const url = 'dummy.pdf';
  getDocument(url).promise.then(pdfDoc => {
    pdfViewer.setDocument(pdfDoc);
    pdfLinkService.setDocument(pdfDoc, null);
  }).catch(err => {
    console.error('Error loading PDF:', err);
  });
</script>
